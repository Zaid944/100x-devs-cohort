<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <label for="num1"></label>
        <input oninput="debounceGetResponse()" type="text" id="num1" />
        <label for="num2"></label>
        <input oninput="debounceGetResponse()" type="text" id="num2" />
        <!-- <button onclick="getResponse()">click-me</button> -->
        <div id="finalans"></div>
    </body>
    <script>
        let timeout;
        function debounceGetResponse() {
            //delay call
            console.log(timeout);
            clearTimeout(timeout);
            timeout = setTimeout(function () {
                getResponse();
            }, 1000);
        }
        async function getResponse() {
            //debouncing throttling
            const a = document.getElementById("num1").value;
            const b = document.getElementById("num2").value;
            console.log(a);
            console.log(b);
            const element = document.getElementById("finalans");

            const response = await fetch(
                `https://sum-server.100xdevs.com/sum?a=${a}&b=${b}`
            );
            const ans = await response.text();
            element.innerHTML = `here ${ans}`;
        }
    </script>
</html>
